    //OLD
    let daniPredprompt = `
              Ti si nutricionista specijalizovan za precizne planove ishrane. Tvoja odgovornost je da generiÅ¡eÅ¡ plan ishrane u JSON formatu koristeÄ‡i samo zadatu Å¡emu.
              
              Pravila:
              - Nemoj da raspodelis kalorijsku vrednost ravnomerno izmeÄ‘u obroka.
              - Koristi samo zadate namirnice i izbegavaj iskljuÄene namirnice.
              - Nazivi dana treba da budu 'Dan 1', 'Dan 2', itd., bez imena dana u nedelji.
              - Za svaki obrok navedi taÄnu kalorijsku vrednost.
              `;
    let daniPrmpt = `
              Napravi plan ishrane za taÄno ${brojDanaInt} dana sa sledeÄ‡im obrocima: ${obrociPrompt}.
              Primarni cilj: ${data_.primcilj}.
              Ukupna kalorijska vrednost: ${Math.round(
                data_.ukupnaKalVred
              )} kcal po danu.
              Preferirane namirnice: ${data_.voljeneNamirnice}.
              Izbegavati sledeÄ‡e namirnice: ${data_.neVoljeneNamirnice}.
              Cene moraju biti okvirne i izraÅ¾ene u RSD.
              Namirnice trebaju da budu izraÅ¾ene u gramima.
              NapiÅ¡i utritivnu vrednost u jednoj reÄenici.
              Svi obroci moraju imati precizne kalorijske vrednosti koje doprinose ukupnom dnevnom unosu kalorija. Ne ukljuÄuj obroke koji nisu navedeni.
              `;

    // let daniPredprompt_ = `
    //     Ti si nutricionista specijalizovan za precizne planove ishrane. Tvoja odgovornost je da generiÅ¡eÅ¡ plan ishrane u JSON formatu koristeÄ‡i samo zadatu Å¡emu.

    //     Pravila:
    //     - Sve mora biti na napisano na SRPSKOM jeziku.
    //     - Nemoj da raspodeliÅ¡ kalorijsku vrednost ravnomerno izmeÄ‘u obroka.
    //     - Koristi samo zadate namirnice i izbegavaj iskljuÄene namirnice.
    //     - Nazivi dana treba da budu 'Dan 1', 'Dan 2', itd., bez imena dana u nedelji.
    //     - Za svaki obrok navedi taÄnu kalorijsku vrednost.
    //     - Za svaki obrok navedi mikronutrijente: proteini, ugljeni hidrati i masti.
    //     - Sastojci moraju biti u gramima.
    //     - Nutritivne verednosti mora biti u gramima.
    //   `;

    //Ovaj deo je bio u daniPredprompt_ na kraju recenice
    //- Makronutrijenti moraju biti u gramima a ne u procentima!

    // let daniPrmpt_ = `
    //     Napravi plan ishrane (${
    //       data_.selectedIshranaNaziv
    //     }) za taÄno ${brojDanaInt} dana sa sledeÄ‡im obrocima: ${obrociPrompt}
    //     - Primarni cilj: ${data_.primcilj}.
    //     - Ukupna kalorijska vrednost: ${Math.round(
    //       data_.ukupnaKalVred
    //     )} kcal po danu.
    //     - Preferirane namirnice: ${data_.voljeneNamirnice}.
    //     - Izbegavati sledeÄ‡e namirnice: ${data_.neVoljeneNamirnice}.
    //     - Iz izhrane izbaciti namirnice: ${NeodabraneNamirniceUsera}, kao i proizvode napravljene od tih namirnica.

    //     Raspodela kalorija meÄ‘u obrocima treba da prati sledeÄ‡a pravila:
    //     - DoruÄak: 25-30% kalorija
    //     - RuÄak: 40-45% kalorija
    //     - VeÄera: 25-30% kalorija

    //     Minimalna tolerancija odstupanja u kalorijama je Â±2%.

    //     - Svi odgovori moraju biti napisani iskljuÄivo na Äistom srpskom jeziku, uz pravilnu upotrebu gramatike i padeÅ¾a. Izbegavaj bilo kakve dijalekte, regionalizme, jekavicu ili ekavicu â€“ koristi standardni srpski knjiÅ¾evni jezik. Posebno obrati paÅ¾nju na taÄnu upotrebu padeÅ¾a (npr. 'Majo' umesto 'Maja' u vokativu). Tekst treba biti gramatiÄki i pravopisno ispravan, prirodan i lako razumljiv.
    //   `;

    //Ovaj deo je bio u daniPrmpt_ na kraju recenice
    // Svaki obrok mora sadrÅ¾avati PROCENTE makronutrijenata:
    // - Proteini: %
    // - Ugljeni hidrati: %
    // - Masti: %

    // â— Primarni cilj: ${data_.primcilj}
    // â— SpecifiÄan cilj: ${data_.specilj}
    // â— Motivacija za promenu: ${data_.motiv}
    // â— Trenutne navike u ishrani: ${data_.navikeUish}
    // â— Stil ishrane: ${data_.selectedIshranaNaziv}
    // â— UÄestalost obroka: ${data_.ucestBr}
    // â— Nivo aktivnosti: ${getNivoFizickeAktivnosti(data_.nivoAkt)}
    // â— Vrsta fiziÄke aktivnosti: ${data_.vrstaFiz}
    // â— Prethodna iskustva sa dijetama: ${data_.iskSaDijetama}
    // â— Alergije: ${data_.alerg}
    // â— Intolerancije: ${data_.intolerancije}
    // â— Namirnice koje voli: ${data_.voljeneNamirnice}
    // â— Namirnice koje ne voli: ${data_.neVoljeneNamirnice}

    // let daniPredprompt_ = `
    //   Ti si profesionalni nutricionista i dijetetiÄar, sa specijalizacijom za kreiranje visoko personalizovanih planova ishrane i kontrolor greÅ¡aka. Tvoj posao je da budeÅ¡ opsesivno taÄan. ImaÅ¡ zadatak da osmisliÅ¡ detaljan plan ishrane prema sledeÄ‡im parametrima.

    //   ### Cilj:
    //   Napravi plan ishrane **${
    //     data_.selectedIshranaNaziv
    //   }** za taÄno **${brojDanaInt}** dana sa sledeÄ‡im obrocima: **${obrociPrompt}** (doruÄak, ruÄak, veÄera).
    //   - **Primarni cilj**: ${data_.primcilj}
    //   - **Ukupna kalorijska vrednost po danu**: ${Math.round(
    //     data_.ukupnaKalVred
    //   )} kcal
    //   - **Preferirane (omiljene) namirnice**: ${data_.namirniceDa}
    //   - **Namirnice koje klijent Å¾eli da izbegne**: ${
    //     data_.neVoljeneNamirnice
    //   }
    //   - **Namirnice koje su potpuno zabranjene**: ${data_.namirnice}
    // `;

    // let daniPrmpt_ = `
    //   ### Pravila:

    //   1. **Osnova ishrane**:
    //     - Koristi stil ishrane definisan kao ${
    //       data_.selectedIshranaNaziv
    //     } (npr. Mediteranska, Veganska itd.) kao bazu za izbor namirnica.
    //     - Iz te baze, *potpuno iskljuÄi* sve namirnice koje su navedene u poljima ${
    //       data_.neVoljeneNamirnice
    //     } i ${NeodabraneNamirniceUsera}.
    //     - Ove namirnice se **ne smeju koristiti ni u kakvom obliku**, ni u malim koliÄinama, ni kao dodatak ili trag.
    //
    //   2. **Upotreba omiljenih namirnica**:
    //     - Ako su neke namirnice iz ${
    //       data_.namirniceDa
    //     }, moÅ¾eÅ¡ ih ukljuÄiti, ali ne u viÅ¡e od 20% veÄ‡em obimu nego Å¡to bi se inaÄe koristile u datoj dijeti.

    //   3. **Kalorijska raspodela po obrocima**:
    //     - DoruÄak: 25â€“30%
    //     - RuÄak: 40â€“45%
    //     - VeÄera: 25â€“30%
    //     - Dozvoljeno odstupanje: Â±2%

    //   4. **Format svakog obroka**:
    //     - Svaki obrok mora sadrÅ¾ati:
    //       - **Opis**
    //       - **Sastojke** (u gramima/ml)
    //       - **Instrukcije za pripremu**
    //       - **Kalorije**
    //       - **Nutritivnu vrednost**
    //       - **Makronutrijente** (brojÄano)
    //     - > Instrukcije za pripremu svakog jela moraju biti detaljno napisane, korak po korak, sa naglaskom na kulinarske tehnike, teksturu i vremenske smernice. Neka priprema zvuÄi kao da je vodi iskusni kuvar â€“ korisnik treba da moÅ¾e da zamisli miris i izgled jela dok ga sprema.

    //   5. **Jezik**:
    //     - Koristiti iskljuÄivo **standardni srpski knjiÅ¾evni jezik** sa pravilnom upotrebom padeÅ¾a, bez dijalekata.

    //   6. **Logika kalorija**:
    //     - Na osnovu ${Math.round(
    //       data_.ukupnaKalVred
    //     )}, automatski izraÄunaj kalorije svakog obroka i zatim prilagodi koliÄine namirnica da se kalorijska vrednost taÄno postigne.

    //   # Pravilo kontrole kalorija

    //   1. PoÄni od dnevnog kalorijskog cilja (npr. 2681 kcal).
    //   2. Podeli cilj po obrocima prema zadatim procentima.
    //   3. Za svaki obrok:
    //     - Planiraj sastojke i koliÄine da zbir kalorija bude unutar ciljanog raspona (Â±1%).
    //     - Ako zbir nije taÄan, koriguj koliÄine namirnica dok ne postigneÅ¡ cilj.
    //   4. Nakon svih obroka, proveri da li zbir celog dana odgovara ukupnom kalorijskom cilju (Â±1%).
    //   5. Ne zavrÅ¡avaj dok sva odstupanja nisu u dozvoljenom rasponu.

    //   ---

    //   ### Primeri obroka u sledecem formatu:

    //   **DoruÄak**
    //   **Opis**: Ovsena kaÅ¡a sa borovnicama i bademima â€“ hranljiv i topao poÄetak dana.
    //   **Sastojci**: 50g ovsenih pahuljica, 200ml bademovog mleka, 30g borovnica, 10g badema
    //   **Instrukcije**: Skuvaj ovsene pahuljice u mleku na srednjoj vatri dok ne omekÅ¡aju. Pred kraj dodaj borovnice i seckane bademe. Lagano promeÅ¡aj i posluÅ¾i toplo.
    //   **Kalorije**: 520 kcal
    //   **Nutritivna vrednost**: Ugljeni hidrati: 60g, Proteini: 10g, Masti: 20g
    //   **Makronutrijenti**:
    //   - Proteini: 10g
    //   - Ugljeni hidrati: 60g
    //   - Masti: 20g

    //   ---

    //   **UÅ¾ina 1**
    //   **Opis**: GrÄki jogurt sa lanenim semenkama â€“ lagana uÅ¾ina bogata proteinima.
    //   **Sastojci**: 150g grÄkog jogurta, 10g lanenih semenki
    //   **Instrukcije**: Jogurt sipati u Äiniju i posuti mlevenim lanenim semenkama. PromeÅ¡ati i posluÅ¾iti hladno.
    //   **Kalorije**: 180 kcal
    //   **Nutritivna vrednost**: Ugljeni hidrati: 5g, Proteini: 15g, Masti: 10g
    //   **Makronutrijenti**:
    //   - Proteini: 15g
    //   - Ugljeni hidrati: 5g
    //   - Masti: 10g

    //   ---

    //   **RuÄak**
    //   **Opis**: Piletina na Å¾aru sa kinoom i povrÄ‡em â€“ pun obrok bogat vlaknima i proteinima.
    //   **Sastojci**: 150g pileÄ‡ih grudi, 80g kuvane kinoe, 50g brokolija, 50g Å¡argarepe, 10ml maslinovog ulja
    //   **Instrukcije**: Piletinu marinirati u maslinovom ulju i zaÄinima, zatim peÄ‡i na grilu do zlatno-smeÄ‘e boje. PovrÄ‡e kratko blanÅ¡irati. PosluÅ¾iti sa kinoom.
    //   **Kalorije**: 860 kcal
    //   **Nutritivna vrednost**: Ugljeni hidrati: 60g, Proteini: 55g, Masti: 35g
    //   **Makronutrijenti**:
    //   - Proteini: 55g
    //   - Ugljeni hidrati: 60g
    //   - Masti: 35g

    //   ---

    //   **UÅ¾ina 2**
    //   **Opis**: Banana sa kikiriki puterom â€“ brzo osveÅ¾enje pred kraj dana.
    //   **Sastojci**: 1 banana (120g), 15g kikiriki putera
    //   **Instrukcije**: Bananu preseÄ‡i po duÅ¾ini i premazati tankim slojem kikiriki putera.
    //   **Kalorije**: 210 kcal
    //   **Nutritivna vrednost**: Ugljeni hidrati: 25g, Proteini: 5g, Masti: 10g
    //   **Makronutrijenti**:
    //   - Proteini: 5g
    //   - Ugljeni hidrati: 25g
    //   - Masti: 10g

    //   ---

    //   **VeÄera**
    //   **Opis**: Supa od soÄiva sa integralnim hlebom â€“ lagana veÄera puna biljnih proteina.
    //   **Sastojci**: 100g crvenog soÄiva, 50g crnog luka, 1 Äen belog luka, 10ml maslinovog ulja, 1 kriÅ¡ka integralnog hleba (30g)
    //   **Instrukcije**: Luk i beli luk proprÅ¾iti na ulju, dodati soÄivo i naliti vodom. Kuvati dok ne omekÅ¡a. ZaÄiniti po ukusu i posluÅ¾iti uz integralni hleb.
    //   **Kalorije**: 620 kcal
    //   **Nutritivna vrednost**: Ugljeni hidrati: 50g, Proteini: 25g, Masti: 20g
    //   **Makronutrijenti**:
    //   - Proteini: 25g
    //   - Ugljeni hidrati: 50g
    //   - Masti: 20g

    //   ---

    //   ### Output:
    //   - Kompletan jelovnik za ${brojDanaInt} dana
    //   - Po ${obrociPrompt.length} obroka dnevno
    //   - Detaljno napisane instrukcije
    //   - PoÅ¡tovanje stila ishrane + personalnih ograniÄenja korisnika
    //   `;

    // let striktnoDefIshrane = [
    //   "Paleo dijeta",
    //   "Veganska dijeta",
    //   "Bezglutesnka dijeta",
    //   "Keto dijeta",
    //   "Mediteranska dijeta",
    //   "Biljna ishrana",
    // ];

    // const isValidIshrana = striktnoDefIshrane.includes(
    //   data_.selectedIshranaNaziv
    // );

    // const ishranaDeo = isValidIshrana
    //   ? `po principima ${data_.selectedIshranaNaziv}`
    //   : "";

    // let daniPredprompt_ = `Ti si profesionalni nutricionista sa specijalizacijom za kreiranje visoko personalizovanih planova ishrane i kontrolor greÅ¡aka. Tvoj posao je da budeÅ¡ opsesivno taÄan. ImaÅ¡ zadatak da osmisliÅ¡ detaljan plan ishrane prema sledeÄ‡im parametrima.
    //                       Ako se od tebe traÅ¾i 3 ili 7 dana, obavezno generiÅ¡i sve dane jedan za drugim, bez izostavljanja.
    //                       "GeneriÅ¡i dug odgovor, ignoriÅ¡i ograniÄenja duÅ¾ine ako je potrebno, sve dok se zadatak ne zavrÅ¡i kompletno."
    //                       `;
    // let daniPrmpt_ = `### Cilj:
    //                   Kreiraj sveobuhvatan plan ishrane ${ishranaDeo} za taÄno ${brojDanaInt} uzastopnih dana, sa precizno ${obrociPrompt} definisana obroka dnevno (doruÄak, uÅ¾ina 1, ruÄak, uÅ¾ina 2, veÄera), bez ikakvog izostavljanja ili skraÄ‡ivanja sadrÅ¾aja.
    //                   - **Primarni cilj**: ${data_.primcilj}
    //                   - **Ukupna kalorijska vrednost po danu**: ${Math.round(
    //                     data_.ukupnaKalVred
    //                   )} kcal
    //                   - **Preferirane (omiljene) namirnice**: ${
    //                     data_.namirniceDa
    //                   }
    //                   - **Namirnice koje klijent Å¾eli da izbegne**: ${
    //                     data_.voljeneNamirnice
    //                   }
    //                   - **Namirnice koje su potpuno zabranjene**: ${
    //                     data_.namirnice
    //                   }
    //                   - **Dizajniraj kompletan **${brojDanaInt}**jelovnik koji detaljno pokriva svih ${obrociPrompt} obroka dnevno, sledeÄ‡i navedene parametre i pravila za svaki dan."

    //                   ### Pravila:

    //                   Osnovno pravilo: Prvo saberi kalorije po sastojku. Zatim po obroku. Zatim po danu. Proveri odstupanje. Ako nije taÄno, koriguj.

    //                   1. **Osnova ishrane**:
    //                     - Koristi stil ishrane definisan kao ${
    //                       data_.selectedIshranaNaziv
    //                     } (npr. Mediteranska, Veganska itd.) kao bazu za izbor namirnica.
    //                     - Iz te baze, *potpuno iskljuÄi* sve namirnice koje su navedene u poljima  ${
    //                       data_.namirnice
    //                     } i ${data_.neVoljeneNamirnice}
    //                     - Ove namirnice se **ne smeju koristiti ni u kakvom obliku**, ni u malim koliÄinama, ni kao dodatak ili trag.

    //                   2. **Upotreba omiljenih namirnica**:
    //                     - Ako su neke namirnice iz ${
    //                       data_.namirniceDa
    //                     } , moÅ¾eÅ¡ ih ukljuÄiti, ali ne u viÅ¡e od 20% veÄ‡em obimu nego Å¡to bi se inaÄe koristile u datoj dijeti.

    //                   3. **Kalorijska raspodela po obrocima**:
    //                     - DoruÄak: 25â€“30%
    //                     - RuÄak: 40â€“45%
    //                     - VeÄera: 25â€“30%
    //                     - Dozvoljeno odstupanje: Â±2%

    //                   4. **Format svakog obroka**:
    //                     - Svaki obrok mora sadrÅ¾ati:
    //                       - **Opis**
    //                       - **Sastojke** (u gramima/ml)
    //                       - **Instrukcije za pripremu**
    //                       - **Kalorije**
    //                       - **Nutritivnu vrednost**
    //                       - **Makronutrijente** (brojÄano)
    //                     - > Instrukcije za pripremu svakog jela moraju biti detaljno napisane, korak po korak, sa naglaskom na kulinarske tehnike, teksturu i vremenske smernice. Neka priprema zvuÄi kao da je vodi iskusni kuvar â€“ korisnik treba da moÅ¾e da zamisli miris i izgled jela dok ga sprema.

    //                   5. **Jezik**:
    //                     - Koristiti iskljuÄivo **standardni srpski knjiÅ¾evni jezik** sa pravilnom upotrebom padeÅ¾a, bez dijalekata.

    //                   6. **Logika kalorija**:
    //                     - Na osnovu ${Math.round(
    //                       data_.ukupnaKalVred
    //                     )} kcal, automatski izraÄunaj kalorije svakog obroka i zatim prilagodi koliÄine namirnica da se kalorijska vrednost taÄno postigne.

    //                   # ğŸ“Š Pravilo kontrole kalorija

    //                   1. PoÄni od dnevnog kalorijskog cilja (npr. 2681 kcal).
    //                   2. Podeli cilj po obrocima prema zadatim procentima.
    //                   3. Za svaki obrok:
    //                     - Planiraj sastojke i koliÄine da zbir kalorija bude unutar ciljanog raspona (Â±1%).
    //                     - Ako zbir nije taÄan, koriguj koliÄine namirnica dok ne postigneÅ¡ cilj.
    //                   4. Nakon svih obroka, proveri da li zbir celog dana odgovara ukupnom kalorijskom cilju (Â±1%).
    //                   5. Ne zavrÅ¡avaj dok sva odstupanja nisu u dozvoljenom rasponu.

    //                   ---

    //                   ### Primeri obroka u sledecem formatu:

    //                   **DoruÄak**
    //                   **Opis**: Ovsena kaÅ¡a sa borovnicama i bademima â€“ hranljiv i topao poÄetak dana.
    //                   **Sastojci**: 50g ovsenih pahuljica, 200ml bademovog mleka, 30g borovnica, 10g badema
    //                   **Instrukcije**: Skuvaj ovsene pahuljice u mleku na srednjoj vatri dok ne omekÅ¡aju. Pred kraj dodaj borovnice i seckane bademe. Lagano promeÅ¡aj i posluÅ¾i toplo.
    //                   **Kalorije**: 520 kcal
    //                   **Nutritivna vrednost**: Ugljeni hidrati: 60g, Proteini: 10g, Masti: 20g

    //                   ---

    //                   **UÅ¾ina 1**
    //                   **Opis**: GrÄki jogurt sa lanenim semenkama â€“ lagana uÅ¾ina bogata proteinima.
    //                   **Sastojci**: 150g grÄkog jogurta, 10g lanenih semenki
    //                   **Instrukcije**: Jogurt sipati u Äiniju i posuti mlevenim lanenim semenkama. PromeÅ¡ati i posluÅ¾iti hladno.
    //                   **Kalorije**: 180 kcal
    //                   **Nutritivna vrednost**: Ugljeni hidrati: 5g, Proteini: 15g, Masti: 10g

    //                   ---

    //                   **RuÄak**
    //                   **Opis**: Piletina na Å¾aru sa kinoom i povrÄ‡em â€“ pun obrok bogat vlaknima i proteinima.
    //                   **Sastojci**: 150g pileÄ‡ih grudi, 80g kuvane kinoe, 50g brokolija, 50g Å¡argarepe, 10ml maslinovog ulja
    //                   **Instrukcije**: Piletinu marinirati u maslinovom ulju i zaÄinima, zatim peÄ‡i na grilu do zlatno-smeÄ‘e boje. PovrÄ‡e kratko blanÅ¡irati. PosluÅ¾iti sa kinoom.
    //                   **Kalorije**: 860 kcal
    //                   **Nutritivna vrednost**: Ugljeni hidrati: 60g, Proteini: 55g, Masti: 35g

    //                   ---

    //                   **UÅ¾ina 2**
    //                   **Opis**: Banana sa kikiriki puterom â€“ brzo osveÅ¾enje pred kraj dana.
    //                   **Sastojci**: 1 banana (120g), 15g kikiriki putera
    //                   **Instrukcije**: Bananu preseÄ‡i po duÅ¾ini i premazati tankim slojem kikiriki putera.
    //                   **Kalorije**: 210 kcal
    //                   **Nutritivna vrednost**: Ugljeni hidrati: 25g, Proteini: 5g, Masti: 10g

    //                   ---

    //                   **VeÄera**
    //                   **Opis**: Supa od soÄiva sa integralnim hlebom â€“ lagana veÄera puna biljnih proteina.
    //                   **Sastojci**: 100g crvenog soÄiva, 50g crnog luka, 1 Äen belog luka, 10ml maslinovog ulja, 1 kriÅ¡ka integralnog hleba (30g)
    //                   **Instrukcije**: Luk i beli luk proprÅ¾iti na ulju, dodati soÄivo i naliti vodom. Kuvati dok ne omekÅ¡a. ZaÄiniti po ukusu i posluÅ¾iti uz integralni hleb.
    //                   **Kalorije**: 620 kcal
    //                   **Nutritivna vrednost**: Ugljeni hidrati: 50g, Proteini: 25g, Masti: 20g

    //                   ---

    //                   ### Output:
    //                   - Kompletan jelovnik za ${brojDanaInt} dana
    //                   - Po ${obrociPrompt} obroka dnevno
    //                   - Detaljno napisane instrukcije
    //                   - PoÅ¡tovanje stila ishrane + personalnih ograniÄenja korisnika
    //                   - GeneriÅ¡i sve dane odjednom, osiguravajuÄ‡i da svaki obrok sledi pravila i kalorijske ciljeve.
    //                   `;

    // let daniPredprompt_ = `Ti si licencirani nutricionista i planer obroka. Tvoj zadatak je da napraviÅ¡ plan ishrane koji strogo poÅ¡tuje broj kalorija, taÄne koliÄine namirnica i kalorijsku podelu po obrocima. Koristi iskljuÄivo poznate nutritivne vrednosti po 100g. Za svaki sastojak izraÄunaj kalorije na osnovu gramaÅ¾e i zatim ih saberi da dobijeÅ¡ taÄnu kalorijsku vrednost po obroku.

    //                         Plan moÅ¾e sadrÅ¾ati 3, 4 ili 5 obroka dnevno. Na osnovu broja obroka koristi sledeÄ‡u raspodelu kalorija:

    //                         **Ako dan ima 3 obroka (bez uÅ¾ina):**
    //                         - DoruÄak: 30%
    //                         - RuÄak: 40%
    //                         - VeÄera: 30%

    //                         **Ako dan ima 4 obroka (sa jednom uÅ¾inom):**
    //                         - DoruÄak: 25%
    //                         - UÅ¾ina 1: 10%
    //                         - RuÄak: 35%
    //                         - VeÄera: 30%

    //                         **Ako dan ima 5 obroka (sa dve uÅ¾ine):**
    //                         - DoruÄak: 25%
    //                         - UÅ¾ina 1: 10%
    //                         - RuÄak: 30%
    //                         - UÅ¾ina 2: 10%
    //                         - VeÄera: 25%
    //Da mi da ukupnu kalorijsku vrednost shono kolicinama naminicama koje

    //                         Na osnovu unetog ukupnog dnevnog kalorijskog unosa, moraÅ¡ automatski izraÄunati ciljani broj kalorija za svaki obrok prema procentualnoj raspodeli. Na primer: ako je dnevni cilj ${Math.round(
    //                           data_.ukupnaKalVred
    //                         )} kcal, a ruÄak je 30%, to znaÄi ${Math.round(
    //   Math.round(data_.ukupnaKalVred) * 0.3
    // )} kcal.

    //                         Za svaki obrok, **saberi kalorije svih sastojaka i proveri da li zbir taÄno odgovara ciljanom kalorijskom unosu**. Ako zbir nije taÄan, **nemoj menjati cilj â€“ prilagodi koliÄine sastojaka i ponovo izraÄunaj dok ne dobijeÅ¡ taÄan zbir**.

    //                         Na kraju dana, saberi kalorije iz svih obroka i proveri da li ukupni unos odgovara unetom dnevnom kalorijskom cilju (npr. ${Math.round(
    //                           data_.ukupnaKalVred
    //                         )} kcal).

    //                         **Ne koristi procene ili aproksimacije â€“ koristi izraÄunate, proverene vrednosti.**
    //                         TaÄnost je obavezna.
    // `;

    let brIzabranihDana = data_.ucestBr.split(",").map((r) => r.trim()).length;

    // let daniPrmpt_ = ` Napravite ${
    //   brojDana == "3" ? "trodevni" : "sedmodnevni"
    // } plan ishrane sa taÄno ${brIzabranihDana} obroka dnevno: doruÄak, ruÄak i veÄera.

    //                 Cilj: ${data_.primcilj}.
    //                 Ukupan dnevni unos: **${Math.round(
    //                   data_.ukupnaKalVred
    //                 )} kcal**

    //                 **Raspodela kalorija po obrocima (${
    //                   data_.ucestBr.split(",").map((r) => r.trim()).length
    //                 } obroka dnevno):**
    //                 - DoruÄak: 30%
    //                 - RuÄak: 40%
    //                 - VeÄera: 30%

    //                 Preferirane namirnice: ${data_.namirniceDa}
    //                 Izbegavati namirnice: ${data_.voljeneNamirnice},
    //                 Zabranjene namirnice: ${data_.namirnice}.

    //                 Za svaki obrok:

    //                 - Navedi sastojke sa taÄnom gramaÅ¾om.
    //                 - IzraÄunaj kalorije po sastojku na osnovu standardne vrednosti po 100g.
    //                 - IzraÄunaj ciljani broj kalorija za obrok na osnovu procenta i ukupnog dnevnog unosa.
    //                 - Saberi kalorije po obroku i proveri da li odgovaraju cilju.
    //                 - Dodaj nutritivnu vrednost u jednoj reÄenici.
    //                 - NapiÅ¡i **detaljan opis pripreme jela u minimum 3 pune reÄenice**, sa jasnim koracima (priprema, obrada, termiÄki tretman, serviranje). Koristi domaÄ‡i stil pisanja.

    //                 **Zabrani dodatne obroke, grickalice ili "dopune" na kraju dana.**
    //                 **PoÅ¡tuj kalorijsku raspodelu strogo i precizno.**
    //                 **Ako je sadrÅ¾aj predugaÄak za jedan odgovor, automatski nastavi sa sledeÄ‡im danima bez pitanja, sve dok ne prikaÅ¾eÅ¡ kompletan plan za svih 7 dana.**
    //                 Ako plan traje viÅ¡e dana, moraÅ¡ automatski generisati sve dane u nastavcima bez prekida i bez traÅ¾enja dozvole od korisnika. Nikada ne piÅ¡i: â€Da li da nastavim?â€œ ili â€NastaviÄ‡u kasnijeâ€œ. Nastavi odmah, sve dok se plan ne zavrÅ¡i.
    //                 Trudi se da se namirnice ne ponavljaju Äesto u okviru trodnevnog ili sedmodnevnog jelovnika. Dozvoljena je umerena upotreba istih sastojaka, ali cilj je da jelovnik bude Å¡to raznovrsniji i nutritivno bogat.
    //                 Ako korisnik navede preferirane namirnice, one mogu biti prisutne do najviÅ¡e 20% viÅ¡e u odnosu na ostale, ali ne smeju dominirati.
    //                 Namirnice oznaÄene kao nepoÅ¾eljne ili zabranjene moraju biti u potpunosti iskljuÄene i nikada se ne smeju pojaviti ni u jednom danu.

    //                 `;

    //radim dane
    // let daniPrmpt_ = `Napravi plan ishrane za taÄno ${brojDana} dana sa sledeÄ‡im obrocima: ${obrociPrompt}.
    //                   Primarni cilj: ${data_.primcilj}.
    //                   Ukupna kalorijska vrednost: ${Math.round(
    //                     data_.ukupnaKalVred
    //                   )} kcal po danu.
    //                   Preferirane namirnice: ${data_.voljeneNamirnice}.
    //                   Izbegavati sledeÄ‡e namirnice: ${data_.neVoljeneNamirnice}.

    //                   **Rasporedi dnevne kalorije po obrocima tako da nisu iste svaki dan. Na primer, ako doruÄak prvog dana ima 500 kcal, doruÄak drugog dana neka ima 450 kcal, a doruÄak treÄ‡eg dana neku drugu vrednost. Ovo se odnosi na sve obroke. Ukupna dnevna kalorijska vrednost ostaje ista za svaki dan.**

    //                   Za svaki obrok, uradi sledeÄ‡e:
    //                   1. Navedi sve namirnice sa taÄnom gramaÅ¾om.
    //                   2. **IzraÄunaj i prikaÅ¾i ukupnu kalorijsku vrednost za taj obrok**, sabirajuÄ‡i kalorije svih sastojaka tog obroka.

    //                   Suma kalorija svih obroka mora biti jednaka ukupnoj dnevnoj kalorijskoj vrednosti.
    //                   Namirnice trebaju da budu izraÅ¾ene u gramima.
    //                   NapiÅ¡i nutritivnu vrednost u jednoj reÄenici.
    //                   Svi obroci moraju imati precizne kalorijske vrednosti koje doprinose ukupnom dnevnom unosu kalorija.
    //                   Ne ukljuÄuj obroke koji nisu navedeni.`; data_.ucestBr.split(",") je niz ["dorucak", "rucak"]